<div class="container py-4">
  <div class="row mb-4">
    <div class="col-12">
      <%= link_to  dashboard_index_path, class: "back-link" do %>
        <i class="bi bi-arrow-left me-2"></i> Back to Dashboard
      <% end %>
      <h2 class="mb-4"><%= @portfolio.name %></h2>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="stat-card">
        <h3><%= number_to_currency(@portfolio.total_value.to_f, precision: 0) %></h3>
        <p>Total Value</p>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="stat-card">
        <h3>4.2%</h3>
        <p>Dividend Yield</p>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="stat-card">
        <h3>$5,281</h3>
        <p>Annual Dividend Income</p>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="stat-card">
        <h3>+12.3%</h3>
        <p>YTD Return</p>
      </div>
    </div>
  </div>
  <%# <div class="row mb-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <span>Projected Monthly Income</span>
          <small class="text-muted">All values in USD</small>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas id="projectedIncomeChart" style="display: block; box-sizing: border-box; height: 150px; width: 1176px;" width="1176" height="150"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div> %>
  <%# Holdings start %>
  <div class="card mb-4">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span>Holdings</span>
      <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#addHoldingsModal">
        <i class="bi bi-plus-circle"></i> Add New Transactions
      </button>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Ticker</th>
              <th>Name</th>
              <th>Shares</th>
              <th>Average Cost</th>
              <th>Current Price</th>
              <th>Market Value</th>
              <th>Dividend Yield</th>
              <th>Annual Income</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="holdings">
            <%= render 'portfolios/holdings' %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <%# Holdings end %>
  <%# <div class="row mt-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          Recent Transactions
        </div>
        <div class="card-body">
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Bought AAPL
              <span class="badge bg-success rounded-pill">+10 shares</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Sold GE
              <span class="badge bg-danger rounded-pill">-25 shares</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Dividend Received (JNJ)
              <span class="badge bg-info rounded-pill">$45.50</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div> %>
  <!-- Modal -->
  <%= render 'portfolios/modal' %>
  <%# <%= turbo_frame_tag "holding", target: '_top' %>
  <%# card holdings %>
</div>
